<div class="p-2 mb-4">

  <!-- 質問-->
  <div  class="border border-gray-300 rounded-lg mb-4">
    <!-- 質問ユーザー -->
    <div class="flex px-4 py-8">
      <%= image_tag question.user.thumbnail.thumb27.url %>
      <%= question.user.name %>
    </div>

    <!-- 質問内容 -->
    <div class="text-left px-4 py-8">
      <%= question.question_content %>
    </div>

    <!-- 質問CRUD -->
    <% if question.user == current_user || admin_user? %>
      <div class="text-left p-4">
        <%= link_to ">>削除", question_path(question), data: { confirm: '確定します。よろしいでしょうか？'}, method: :delete, class:"red-link" %>
      </div>
    <% end %>
  </div>


  <!--返信-->
  <div class="border bg-gray-100 rounded-lg">
    <% if question.response.present?%> <%# 返信がある場合、返信を表示する%>

      <!-- DEKRIU情報 -->
      <div class="flex justify-end px-4 py-8">
        <span>deKiRU</span><!-- TODO: 少し変かもしれない。全て大文字にするか相談する -->
        <%= image_tag @admin.thumbnail.thumb27.url %>
      </div>

      <!-- 返信内容 -->
      <div class="text-right px-4 py-8">
        <%= question.response.response_content %>
      </div>

      <!-- 返信CRUD -->
      <% if admin_user? %>
        <div class="flex justify-end p-4">
          <div class= "px-4 mr-1 text-right"><%= link_to ">>編集", edit_response_path(question.response, question_id: question.id), class:"admin-link" %></div>
          <div><%= link_to ">>削除", response_path(question.response), data: { confirm: '確定します。よろしいでしょうか？'}, method: :delete, class:"admin-link" %></div>
        </div>
      <% end %>

    <% else %> <%# 返信がない場合、返信を作成するリンクを表示%>

      <!-- 返信リンク -->
      <% if admin_user? && question.response.nil? %>
        <div><%= link_to ">>返信する", new_response_path(question_id: question.id), class:"admin-link" %></div>
      <% end %>
    <% end %>
  </div>
</div>
